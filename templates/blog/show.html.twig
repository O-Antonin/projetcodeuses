{% extends "base.html.twig" %}

{% block body %}

    <div class="container">
        <h2 class="display-4 my-4 text-center animate__animated animate__backInDown" > Détails de la recette {{ recette.title }} </h2>

        <div class="col-md-12 card mb-2 text-center p-0 text-dark">
            <img src="{{ recette.image|replace({"200": "1000/300"}) }}" class="card-img-top" alt="{{ recette.title }}">
            <div class="card-body">
                <h5 class="card-title text-center text-dark">{{ recette.title }}</h5>
                <p class="card-text text-center">{{ recette.content|raw }}</p>   
                <hr>

                {% if app.user %} {#If the user is connected 'Modifier l'recette will be displayed' #}
                                
                {# <span class="col-md-2"><a href="{{ path('blog_edit', {'id':recette.id}) }}"  class="text-left btn btn-warning">Modifier</a></span> #}

                {% endif %}

                <span class="col offset-md-4 font-italic text-right"> Posté le {{ recette.createdAt|date("d/m/Y") }} à {{ recette.createdAt|date("H:i:s") }} dans la Catégorie <strong style ='color:darkgreen'> {{ recette.category.title }} </strong> </span>    
            </div>

    </div>


        <div class="col-md-12 style=formulaire">

            <h2 class="text-center text-dark mt-5"> Derniers avis... </h2>


            <section id="commentaire" class="col-md-10 mx-auto"> 


                {% for comment in recette.comments %}

                <div class="comment">
                <div class="row">
                <div class="col-md-3">{{ comment.author }} <small>{{ comment.createdAt | date('d/m/Y à H:i:s') }}</small></div>
                <div class="col-md-9">{{ comment.content | raw }}</div>
                </div>
                </div><hr>

                {% endfor %}
                
                 {{ form_start(commentForm) }}
                  {{ form_row(commentForm.Author, {'label': 'Auteur', 'attr': {'plac
                 eholder': "Votre nom..."}}) }}
                 {{ form_row(commentForm.Content, {'label': 'Votre message', 'attr' : {'placeholder': "Saisir votre message..."}}) }}
                 <button type="submit" class="btn bg-secondary mb- 3">Poster votre commentaire</button>
                {{ form_end(commentForm) }}
        
            </section>
            
        </div>
    </div>

{% endblock %}

